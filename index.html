<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<!-- 下面这个设置居然会影响grid布局 -->
	<!-- <meta
			http-equiv="Content-Security-Policy"
			content="default-src 'self'; script-src 'self'"
		/>
		<meta
			http-equiv="X-Content-Security-Policy"
			content="default-src 'self'; script-src 'self'"
		/> -->
	<title>图片检索工具</title>
	<!-- <script src="renderer.js"></script> -->
	<script src="dom.js"></script>

	<style>
		/* 新增的工具栏样式 */
		.toolbar {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 10px;
			background-color: #f5f5f5;
			border-radius: 8px;
			margin-bottom: 15px;
			box-shadow: 0 2px 5px rgba(0,0,0,0.1);
		}

		.toolbar-left, .toolbar-right {
			display: flex;
			align-items: center;
			gap: 10px;
		}

		.toolbar-btn {
			display: flex;
			align-items: center;
			padding: 8px 12px;
			border: 1px solid #ddd;
			border-radius: 6px;
			background-color: white;
			cursor: pointer;
			transition: all 0.2s;
			font-size: 14px;
		}

		.toolbar-btn:hover {
			background-color: #f0f0f0;
			border-color: #ccc;
		}

		.toolbar-btn.primary {
			background-color: #4285f4;
			color: white;
			border-color: #4285f4;
		}

		.toolbar-btn.primary:hover {
			background-color: #3367d6;
		}

		.icon {
			margin-right: 6px;
			font-size: 15px;
		}

		.path-controls {
			display: flex;
			align-items: center;
			background-color: white;
			border-radius: 6px;
			padding-right: 5px;
			border: 1px solid #ddd;
		}

		.path-controls button:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
			border-right: none;
		}

		.path-controls button:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
			padding: 8px;
		}
		.action-buttons {
			display: flex;
			align-items: center;
		}
		.search-box {
			display: flex;
			align-items: center;
		}

		#search-input {
			padding: 10px 12px;
			border: 1px solid #ddd;
			border-radius: 6px 0 0 6px;
			width: 200px;
			font-size: 14px;
			outline: none;
		}

		.search-btn {
			padding: 8px 12px;
			border: 1px solid #ddd;
			border-left: none;
			border-radius: 0 6px 6px 0;
			background-color: #f8f8f8;
			cursor: pointer;
		}

		.search-btn:hover {
			background-color: #eee;
		}

		#file-path {
			font-weight: bold;
			color: #4285f4;
			margin-left: 5px;
		}

		/* 原有的网格图片样式保持不变 */
		.grid-img {
			display: grid;
			grid-template-columns: auto auto auto auto;
			gap: 10px;
			padding: 10px;
		}

		.img-item {
			position: relative;
			display: inline-block;
			border: 1px solid rgba(0, 0, 0, 0.8);
			padding: 20px;
			width: auto;
			height: 180px;
		}

		.img-item img {
			width: 100%;
			height: 100%;
			object-fit: cover;
		}

		.page-turn {
			display: flex;
			float: right;
			height: 20px;
		}

		.copy-btn {
			position: absolute;
			top: 1px;
			right: 1px;
			padding: 5px 10px;
			cursor: pointer;
		}

		.rename-btn {
			position: absolute;
			top: 1px;
			left: 1px;
			padding: 5px 10px;
			cursor: pointer;
		}
	</style>
</head>

<body>
	<link rel="stylesheet" href="node_modules/notyf/notyf.min.css">

	<p>
		请选择扫描文件夹路径：<span id="file-path"></span>
	</p>
	
	<!-- 优化后的工具栏 -->
	<div class="toolbar">
		<div class="toolbar-left">
			<div class="path-controls">
				<button id="select-folder" class="toolbar-btn">
					<span class="icon">📁</span> 选择文件夹
				</button>
				<button id="clear-path" class="toolbar-btn" title="清空当前路径">
					<span class="icon">✖</span>
				</button>
			</div>
			
			<div class="action-buttons">
				<button id="start-search" class="toolbar-btn primary">
					<span class="icon">🔍</span> 开始搜索
				</button>
				<button id="refresh-pic" class="toolbar-btn">
					<span class="icon">🔄</span> 刷新
				</button>
				<button id="check-cache" class="toolbar-btn">
					<span class="icon">🗃️</span> 缓存
				</button>
			</div>
		</div>
		
		<div class="toolbar-right">
			<div class="search-box">
				<input type="text" id="search-input" placeholder="搜索图片...">
				<button id="search-button" class="search-btn">
					<span class="icon">🔍</span>
				</button>
			</div>
		</div>
	</div>

	<!-- 原有的图片网格部分保持不变 -->
	<div class="grid-img">
		<div class="img-item">
			<img src="./public/img/404.png" alt="图片丢失了" class="copyable-img">
			<button class="copy-btn">复制</button>
			<button class="rename-btn">改标签</button>
		</div>
		<div class="img-item">
			<img src="./public/img/404.png" alt="图片丢失了" class="copyable-img">
			<button class="copy-btn">复制</button>
			<button class="rename-btn">改标签</button>
		</div>
		<div class="img-item">
			<img src="./public/img/404.png" alt="图片丢失了" class="copyable-img">
			<button class="copy-btn">复制</button>
			<button class="rename-btn">改标签</button>
		</div>
		<div class="img-item">
			<img src="./public/img/404.png" alt="图片丢失了" class="copyable-img">
			<button class="copy-btn">复制</button>
			<button class="rename-btn">改标签</button>
		</div>
		<div class="img-item">
			<img src="./public/img/404.png" alt="图片丢失了" class="copyable-img">
			<button class="copy-btn">复制</button>
			<button class="rename-btn">改标签</button>
		</div>
		<div class="img-item">
			<img src="./public/img/404.png" alt="图片丢失了" class="copyable-img">
			<button class="copy-btn">复制</button>
			<button class="rename-btn">改标签</button>
		</div>
		<div class="img-item">
			<img src="./public/img/404.png" alt="图片丢失了" class="copyable-img">
			<button class="copy-btn">复制</button>
			<button class="rename-btn">改标签</button>
		</div>
		<div class="img-item">
			<img src="./public/img/404.png" alt="图片丢失了" class="copyable-img">
			<button class="copy-btn">复制</button>
			<button class="rename-btn">改标签</button>
		</div>
	</div>
	<div class="page-turn">
		<button id="forward" style="height: inherit;display: flex; align-items: center;">&lt;</button>
		<span>第<span id="page-num">1</span>页</span>
		<button id="backward" style="height: inherit;display: flex; align-items: center;">&gt;</button>
	</div>

	<script>
		// 原有的JavaScript功能保持不变
	</script>
</body>

</html>